#*************************************************************************
* CLASS 명      : memActualMngDetailList
* 작 업 자      : 유연주
* 작 업 일      : 2017년 3월 22일
* 기    능      : 실적관리
* ---------------------------- 변 경 이 력 --------------------------------
* 번호    작 업 자     작   업   일       변 경 내 용           비  고
* ----  --------  -----------------  -------------------------  -----------
*  1     유연주      2017년 3월 22일             최 초 작 업
**************************************************************************#
#set($curr_url = $!{context_path} + "/mem/eval/memActIn/memActualMngDetailList.vm.vw")
<script type="text/javascript" language="javascript" >
//<![CDATA[

	var J = jQuery;

	J(document).ready(function(){

    	/******************************************
    	 * 실적승인 화면에서 disabled
    	 ******************************************/
		#if($!{searchMap.txt2html("findActualType")} == "check")
    		J("input[type=text]", "#blockDetailTB").attr("disabled", true);
    		J("textarea", "#blockDetailTB").attr("disabled", true);

		#elseif($!{searchMap.txt2html("findActualType")} == "approve")
			J("input[type=text]", "#blockDetailTB").attr("disabled", true);
    		J("textarea", "#blockDetailTB").attr("disabled", true);
    		J("input:radio", "#blockDetailTB").attr("disabled", "disabled");
		#end

		/******************************************
    	 * 마감여부에 따른 disabled
    	 ******************************************/
		#if($!{actInputTermYn} == 'N')
			J("input[type=text]", "#blockDetailTB").attr("disabled", true);
			J("input:radio, textarea", "#blockDetailTB").attr("disabled", true);
		#end

		/******************************************
    	 * 숫자만 입력받기
    	 ******************************************/
		/*
		J(":input[name=colValues]").numeric({allow:".-"}); //숫자만 입력받기
		J(":input[name=colValues]").css("ime-mode", "disabled"); //한글사용 비활성화
		*/
	});

	/******************************************
	 * 파일추가
	 ******************************************/
	var fileIndex = 0;

	function fileAttachAdd() {
		J("#fileAttach").append("<li id=\"fileRow" + fileIndex + "\"><input type=\"file\" name=\"file" + fileIndex + "\" class=\"input\" size=\"70\" /> <input type=\"button\" value=\"삭제\" onclick=\"deleteRow(" + fileIndex + ")\" class=\"input\" size=\"70\"></li>");
		fileIndex++;
	}

	function deleteRow(fileIndex)	{
    	J("#fileRow" + fileIndex).remove();
    }
//]]>
</script>

<div id="blockDetailTB" class="blockListTable">
		<div class="blockButton_all">
			<div class="blockButton_l">
				<span id="closeAlert" class="txt_blue2">지표명 : $!{searchMap.txt2html("metricNm")}</span><br/>
			</div>
		</div>
    	<table summary="실적입력">
        	<caption class="none">실적입력</caption>
        	<thead>
        		<tr>
        		    <th scope="col" width="11%" class="textCenter">구분</th>
        			<th scope="col" width="5%" class="textCenter">단위</th>
    				<th scope="col" width="7%" class="textCenter">1월</th>
    				<th scope="col" width="7%" class="textCenter">2월</th>
    				<th scope="col" width="7%" class="textCenter">3월</th>
    				<th scope="col" width="7%" class="textCenter">4월</th>
    				<th scope="col" width="7%" class="textCenter">5월</th>
    				<th scope="col" width="7%" class="textCenter">6월</th>
    				<th scope="col" width="7%" class="textCenter">7월</th>
    				<th scope="col" width="7%" class="textCenter">8월</th>
    				<th scope="col" width="7%" class="textCenter">9월</th>
    				<th scope="col" width="7%" class="textCenter">10월</th>
    				<th scope="col" width="7%" class="textCenter">11월</th>
    				<th scope="col" width="7%" class="textCenter">12월</th>
        		</tr>
        	</thead>
        	<tbody>
        		#foreach($list in $list)
        			<tr class="row1">
        				<td class="textCenter">$!{CS_HTML.txt2html($list.CAL_TYPE_COL_NM)}</td>
                    	<td class="textCenter">$!{CS_HTML.txt2html($list.UNIT_NM)}</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    						    <input type="hidden" name="colMons" class="inputbox" value="01" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON01)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON01)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="02" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON02)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON02)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && ($!{searchMap.txt2html("evalCycleId")} == "M" || $!{searchMap.txt2html("evalCycleId")} == "Q"))
    							<input type="hidden" name="colMons" class="inputbox" value="03" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON03)}" maxlength="15" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON03)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="04" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON04)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON04)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="05" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON05)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON05)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && ($!{searchMap.txt2html("evalCycleId")} == "M" || $!{searchMap.txt2html("evalCycleId")} == "Q" || $!{searchMap.txt2html("evalCycleId")} == "H"))
    							<input type="hidden" name="colMons" class="inputbox" value="06" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON06)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON06)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="07" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON07)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON07)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="08" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON08)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON08)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && ($!{searchMap.txt2html("evalCycleId")} == "M" || $!{searchMap.txt2html("evalCycleId")} == "Q"))
    							<input type="hidden" name="colMons" class="inputbox" value="09" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON09)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON09)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="10" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON10)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON10)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && $!{searchMap.txt2html("evalCycleId")} == "M")
    							<input type="hidden" name="colMons" class="inputbox" value="11" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON11)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON11)}
    						#end
    					</td>
    					<td class="textCenter">
    						#if($!{searchMap.txt2html("mode")} != "SEARCH" && ($!{searchMap.txt2html("evalCycleId")} == "M" || $!{searchMap.txt2html("evalCycleId")} == "Q" || $!{searchMap.txt2html("evalCycleId")} == "H" || $!{searchMap.txt2html("evalCycleId")} == "Y"))
    							<input type="hidden" name="colMons" class="inputbox" value="12" />
        						<input type="hidden" name="colNames" class="inputbox" value="$!{CS_HTML.txt2html($list.CAL_TYPE_COL)}" />
        						<input type="text" name="colValues" style="width:90%;" class="inputbox" value="$!{CS_HTML.txt2html($list.MON12)}" maxlength="20" />
    						#else
                                $!{CS_HTML.txt2htmlActcolFormat($list.MON12)}
    						#end
    					</td>
        			</tr>
    			#end
    			#foreach($scoreList in $scoreList)
        			<tr class="row1">
						#if($!{CS_HTML.txt2html($scoreList.TYPE)} == 1)
							<td class="textCenter">$!{searchMap.txt2html("METRIC_NM")} 실적</td>
							<td class="textCenter">$!{CS_HTML.txt2html($scoreList.UNIT_NM)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON01)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON02)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON03)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON04)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON05)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON06)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON07)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON08)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON09)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON10)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON11)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlActualFormat($scoreList.MON12)}</td>
						#elseif($!{CS_HTML.txt2html($scoreList.TYPE)} == 2)
							<td class="textCenter">$!{searchMap.txt2html("METRIC_NM")} 목표</td>
							<td class="textCenter">$!{CS_HTML.txt2html($scoreList.UNIT_NM)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON01)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON02)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON03)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON04)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON05)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON06)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON07)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON08)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON09)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON10)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON11)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlTargetFormat($scoreList.MON12)}</td>
						#elseif($!{CS_HTML.txt2html($scoreList.TYPE)} == 3)
							<td class="textCenter">점수</td>
							<td class="textCenter">$!{CS_HTML.txt2html($scoreList.UNIT_NM)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON01)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON02)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON03)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON04)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON05)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON06)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON07)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON08)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON09)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON10)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON11)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON12)}</td>
						#elseif($!{CS_HTML.txt2html($scoreList.TYPE)} == 4)
							<td class="textCenter">등급</td>
							<td class="textCenter">$!{CS_HTML.txt2html($scoreList.UNIT_NM)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON01)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON02)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON03)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON04)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON05)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON06)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON07)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON08)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON09)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON10)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON11)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2html($scoreList.MON12)}</td>
						#elseif($!{CS_HTML.txt2html($scoreList.TYPE)} == 5)
							<td class="textCenter">환산점수</td>
							<td class="textCenter">$!{CS_HTML.txt2html($scoreList.UNIT_NM)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON01)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON02)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON03)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON04)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON05)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON06)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON07)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON08)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON09)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON10)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON11)}</td>
        					<td class="textCenter">$!{CS_HTML.txt2htmlScoreFormat($scoreList.MON12)}</td>
						#end
        			</tr>
    			#end
    			<tr>
    				<td>실적산식</td>
    				<td colspan="13" class="textLeft">$!{calTypeColDesc}</td>
    			</tr>
    			<tr>
    				<td>득점산식</td>
    				<td colspan="13" class="textLeft">$!{CS_HTML.txt2html($detail.SCORE_CAL_TYPE_NM)}</td>
    			</tr>
        	</tbody>
        </table>
        <br>
		<table summary="증빙자료">
			<caption class="none">증빙자료</caption>
			<colgroup>
				<col width="15%" />
				<col width="85%" />
			</colgroup>
			<tbody>
				<tr>
					<th>증빙자료</th>
					<td class="textLeft">
						#foreach($fileList in $fileList)
							$!{CS_HTML.makeFileIconFileName($fileList.get("ATTACH_FILE_SUFFIX"), $fileList.get("ATTACH_FILE_NM"), $fileList.get("ATTACH_FILE_PATH"))}
							#if($!{searchMap.txt2html("mode")} != "SEARCH")
							&nbsp;&nbsp;
									<input type="checkbox" name="delAttachFiles" id="delAttachFile$!{fileList.get("SEQ")}" value="$!{fileList.get("SEQ")}" />&nbsp;
									<label for="delAttachFile$!{fileList.get("SEQ")}">첨부파일 삭제</label> <br/>
							#end
						#end
						#if($!{searchMap.txt2html("mode")} != "SEARCH")
						<br/>
						<a href="javascript:fileAttachAdd();"><img src="$!{searchMap.txt2html("context")}/images/common/btn_file.gif" class="valign_middle" alt="파일추가" /></a>&nbsp;(첨부파일 용량제한은 100M입니다)<br/>
						<div>
							<ul id="fileAttach">
							</ul>
						</div>
						#end
					</td>
				</tr>
			</thead>
		</table>
		<br/>

</div>
<div class="clear"></div>
