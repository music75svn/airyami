#*************************************************************************
* CLASS 명      : memProcMonitor
* 작 업 자      : 유연주
* 작 업 일      : 2017년04월12일 
* 기    능      : 업무지행사항모니터링
* ---------------------------- 변 경 이 력 --------------------------------
* 번호    작 업 자     작   업   일       변 경 내 용           비  고
* ----  --------  -----------------  -------------------------  -----------
*  1     유연주      2017년04월12일               최 초 작 업
**************************************************************************#
#set($curr_url = $!{context_path} + "/mem/monitor/memProcMonitor/memProcMonitor.vw")
<script type="text/javascript" language="javascript" >
//<![CDATA[

	var J = jQuery;

	J(document).ready(function(){

		/******************************************
		 * 조회
		 ******************************************/
		J("#formFind").submit(function(event) {
			//submit 하기전 작업추가
		});

	});
	
	/******************************************
	 * 직원목록 조회 AJAX
	 ******************************************/
	function popMemList(gubun) {
		var param = "&amp;gubun=" + gubun;
		param += "&amp;findYear=" + $!{searchMap.txt2html("findYear")};
		param += "&amp;findMon=" + $!{searchMap.txt2html("findMon")};

		var url = "$!{context_path}/mem/monitor/memProcMonitor/popMemEmpList.vw?type=popup" + param;
		openWinByName(url,'popEmpList','800','400','yes');
	}
//]]>
</script>

<div id="Table">
	<div id="Table_blockContainer">
		<h1 class="none">업무진행사항모니터링</h1>
		<div class="tableTop">
			#parse("/WEB-INF/vl/common/template/tabs.vm")

    		<!-- search S -->
			<form id="formFind" name="formFind" method="post" action="$!{context_path}/mem/monitor/memProcMonitor/memProcMonitor.vw?type=template">
				<input type="hidden"    id="findHighPgmId"      name="findHighPgmId"    value="$!{searchMap.txt2html("findHighPgmId")}" />
				<input type="hidden"    id="findSubPgmId"       name="findSubPgmId"     value="$!{searchMap.txt2html("findSubPgmId")}" />
				<input type="hidden"    id="findPgmId"          name="findPgmId"        value="$!{searchMap.txt2html("findPgmId")}" />

				<div class="searchBox">
    				<div><div><div>
    				<table summary="업무진행사항모니터링검색 조건">
						<caption class="none">업무진행사항모니터링 검색 조건</caption>
						<thead><tr><th></th></tr></thead>
        				<tbody>
            				<tr>
								<td class="searchBox_tit w250">
            						<span><label for="findYear">기준년월</label></span>
            						<span class="searchBar">
            							<select id="findYear" name="findYear" class="select w80">
            								$!CS_CODE.getCodeOption("017", $!{searchMap.txt2html("findYear")})
            							</select>
										<select id="findMon" name="findMon" class="select w80">
            								$!CS_CODE.getCodeOption("024", $!{searchMap.txt2html("findMon")})
            							</select>
            						</span>
            					</td>
            				</tr>
        				</tbody>
    				</table>
                    <input type="image" class="btnSearch" src="$!{img_path}/common/btn_search.gif" align="middle" alt="검색" />
                    </div></div></div>
    	        </div>
    		</form>
    		<!-- search E -->
			<div class="clear"></div>
		</div>
		<div id="splitterBox">
			<div>
				<!-- 데이터그리드 Start -->
				<div floatLeft">
                	<div id="chartContainer"   class="floatLeft w510">FusionCharts will load here!</div>
					<script type="text/javascript" language="javascript" >
					//<![CDATA[
						FusionCharts.setCurrentRenderer(render);
                		var myChart = new FusionCharts( "$!{chart_path}/Pie2D.swf", "myChartId", "510", "180", "0", "1" );      
                		myChart.setXMLUrl("$!{context_path}/mem/monitor/memProcMonitor/memProcMonitorChart_1_xml.vw?findYear=$!{searchMap.txt2html("findYear")}&findMon=$!{searchMap.txt2html("findMon")}");      
                		myChart.render("chartContainer");
					//]]>
                	</script> 
				</div>
				<div class="blockListTable floatRight" style="width:600px;">
			    	<table summary="지표관리현황">
			        	<caption class="none">지표관리현황</caption>
			        	<thead>
			        		<tr>
			        		    <th scope="col" width="25%" rowspan="2" class="textCenter">전체대상자수</th>
			        			<th scope="col" width="75%" colspan="5" class="textCenter">진행사항</th>
			        		</tr>
			        		<tr>
			        			<th scope="col" width="15%" class="textCenter">승인완료</th>
			    				<th scope="col" width="15%" class="textCenter">미입력/입력중</th>
			    				<th scope="col" width="15%" class="textCenter">승인요청수</th>
			    				<th scope="col" width="15%" class="textCenter">변경요청수</th>
			    				<th scope="col" width="15%" class="textCenter">반려수</th>
			        		</tr>
			        	</thead>
			        	<tbody>
		        			<tr class="row1" style="height:60px;">
		        				<td class="textCenter">$!{CS_HTML.txt2html($metricMonitor.METRIC_STATUS_COUNT_TOT)}</td>
		        				<td class="textCenter"><a href="javascript:popMemList('M_CON');"><u>$!{CS_HTML.txt2html($metricMonitor.METRIC_STATUS_COUNT_03)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('M_NOT');"><u>$!{CS_HTML.txt2html($metricMonitor.METRIC_STATUS_COUNT_01)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('M_REQ');"><u>$!{CS_HTML.txt2html($metricMonitor.METRIC_STATUS_COUNT_02)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('M_MOD');"><u>$!{CS_HTML.txt2html($metricMonitor.METRIC_STATUS_COUNT_05)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('M_RET');"><u>$!{CS_HTML.txt2html($metricMonitor.METRIC_STATUS_COUNT_04)}</u></a></td>
		        			</tr>
			        	</tbody>
			        </table>
				</div>
			</div>
		</div>
		<br><br><br><br><br><br><br><br><br><br><br><br>
		<div id="splitterBox">
			<div>
				<!-- 데이터그리드 Start -->
				<div floatLeft">
                	<div id="chartContainer2"   class="floatLeft w510">FusionCharts will load here!</div>
					<script type="text/javascript" language="javascript" >
					//<![CDATA[
						FusionCharts.setCurrentRenderer(render);
                		var myChart = new FusionCharts( "$!{chart_path}/Pie2D.swf", "myChartId", "510", "180", "0", "1" );      
                		myChart.setXMLUrl("$!{context_path}/mem/monitor/memProcMonitor/memProcMonitorChart_2_xml.vw?findYear=$!{searchMap.txt2html("findYear")}&findMon=$!{searchMap.txt2html("findMon")}");      
                		myChart.render("chartContainer2");
					//]]>
                	</script> 
				</div>
				<div class="blockListTable floatRight" style="width:600px;">
			    	<table summary="지표관리현황">
			        	<caption class="none">실적입력현황</caption>
			        	<thead>
			        		<tr>
			        		    <th scope="col" width="25%" rowspan="2" class="textCenter">전체대상자수</th>
			        			<th scope="col" width="35%" colspan="2" class="textCenter">실적입력 진행사항</th>
			        			<th scope="col" width="40%" colspan="2" class="textCenter">자기성과기술서 작성현항</th>
			        		</tr>
			        		<tr>
			        			<th scope="col" width="15%" class="textCenter">입력</th>
			    				<th scope="col" width="20%" class="textCenter">미입력</th>
			    				<th scope="col" width="20%" class="textCenter">제출</th>
			    				<th scope="col" width="20%" class="textCenter">미제출</th>
			        		</tr>
			        	</thead>
			        	<tbody>
		        			<tr class="row1" style="height:60px;">
		        				<td class="textCenter">$!{CS_HTML.txt2html($actMonitor.ACT_TOT_COUNT)}</td>
		        				<td class="textCenter"><a href="javascript:popMemList('A_IN');"><u>$!{CS_HTML.txt2html($actMonitor.ACT_COUNT)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('A_NOT');"><u>$!{CS_HTML.txt2html($actMonitor.NOT_ACT_COUNT)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('D_IN');"><u>$!{CS_HTML.txt2html($actMonitor.DESC_COUNT)}</u></a></td>
		        				<td class="textCenter"><a href="javascript:popMemList('D_NOT');"><u>$!{CS_HTML.txt2html($actMonitor.NOT_DESC_COUNT)}</u></a></td>
		        			</tr>
			        	</tbody>
			        </table>
				</div>
			</div>
		</div>
		<br><br><br><br><br><br><br><br><br><br><br><br>
		<div class="blockListTable">
			<div class="blockButton_l txt_blue">
				※ 면담관리현황
			</div>
	    	<table summary="지표관리현황">
	        	<caption class="none">지표관리현황</caption>
	        	<thead>
	        		<tr>
	        		    <th scope="col" width="20%" rowspan="2" class="textCenter">전체대상자수</th>
	        			<th scope="col" width="20%" colspan="2" class="textCenter">1/4분기</th>
	        			<th scope="col" width="20%" colspan="2" class="textCenter">2/4분기</th>
	        			<th scope="col" width="20%" colspan="2" class="textCenter">3/4분기</th>
	        			<th scope="col" width="20%" colspan="2" class="textCenter">4/4분기</th>
	        		</tr>
	        		<tr>
	        			<th scope="col" width="15%" class="textCenter">면담요청</th>
	    				<th scope="col" width="15%" class="textCenter">면담완료</th>
	        			<th scope="col" width="15%" class="textCenter">면담요청</th>
	    				<th scope="col" width="15%" class="textCenter">면담완료</th>
	        			<th scope="col" width="15%" class="textCenter">면담요청</th>
	    				<th scope="col" width="15%" class="textCenter">면담완료</th>
	        			<th scope="col" width="15%" class="textCenter">면담요청</th>
	    				<th scope="col" width="15%" class="textCenter">면담완료</th>
	        		</tr>
	        	</thead>
	        	<tbody>
	        #if($!{CS_HTML.txt2html($meetMonitor.TOT_COUNT)} == '')
        			<tr class="row1">
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        				<td class="textCenter">0</td>
        			</tr>
	        #else
        			<tr class="row1">
        				<td class="textCenter">$!{CS_HTML.txt2html($meetMonitor.TOT_COUNT)}</td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_REQ_Q1');"><u>$!{CS_HTML.txt2html($meetMonitor.Q1_REQ_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_COM_Q1');"><u>$!{CS_HTML.txt2html($meetMonitor.Q1_COM_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_REQ_Q2');"><u>$!{CS_HTML.txt2html($meetMonitor.Q2_REQ_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_COM_Q2');"><u>$!{CS_HTML.txt2html($meetMonitor.Q2_COM_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_REQ_Q3');"><u>$!{CS_HTML.txt2html($meetMonitor.Q3_REQ_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_COM_Q3');"><u>$!{CS_HTML.txt2html($meetMonitor.Q3_COM_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_REQ_Q4');"><u>$!{CS_HTML.txt2html($meetMonitor.Q4_REQ_COUNT)}</u></a></td>
        				<td class="textCenter"><a href="javascript:popMemList('ME_COM_Q4');"><u>$!{CS_HTML.txt2html($meetMonitor.Q4_COM_COUNT)}</u></a></td>
        			</tr>
	        #end
	        	</tbody>
	        </table>
		</div>
	</div>
	<div class="clear"></div>
</div>
