#*************************************************************************
* CLASS 명		: deptTree.vm
* 작 업 자		: 안요한
* 작 업 일		: 2013년 05월 14일 
* 기    능			: 인사트리
* ---------------------------- 변 경 이 력 --------------------------------
* 번호  작 업 자     작   업   일           변 경 내 용             비고
* ----  --------  -----------------  -------------------------    --------
*   1    안 요 한     2013년 05월 14일         최 초 작 업 
**************************************************************************#

<script language="javascript" type="text/javascript">
//<![CDATA[

	var J = jQuery;
	
	J(document).ready(function(){
	
		//하위 노드가 없는 엘리먼트 삭제
		J("#treeData ul:empty").remove();
		
		//디폴트 선택 엘리먼트 설정
		var choiceElement = J("#$!{searchMap.txt2html("findSearchCodeId", $!{searchMap.txt2html("findDeptCd")})}");
		

		choiceElement.children().addClass("choiceTreeNode");
		
		//디폴트 선택된 엘리먼트의 상위 엘리먼트를 펼쳐진 상태로 설정
		for(var i = 0; i < 10; i++) {
			choiceElement.addClass("expanded");
			choiceElement = choiceElement.parent().parent();
			
			if(choiceElement.attr("id") == "tree") break;
		}
		
		//1레벨은 기본적으로 펼침
		J("#treeData > li").first().addClass("expanded");
		
		//dyna 트리 기본설정
		J(".deptTree2").dynatree({
			onActivate: function(node) {
				try {
					//alert("active");
					J(".deptTree2 div").removeClass("choiceTreeNode");
					goActionPop1(node.data.key,node.data.title);
				} catch(error) {}
			},
			onDblClick: function(node, event) {
				try {
					//alert("dblClick");
					goDblClickActionPop1(node.data.key,node.data.title);
				} catch(error) {}
			},
			onClick: function(node, event) {
				try {
					//alert("click");
					goClickActionPop1(node.data.key,node.data.title);
				} catch(error) {}
			}
		});
		
	});
	
//]]>
</script>
 
<div id="tree" class="deptTree2">
    <ul id="treeData" class="none">
	#foreach($list1 in $treeList)
		<li id="$!{CS_HTML.txt2html($list1.CODE_ID)}" class="expanded">
			<div>$!{CS_HTML.txt2html($list1.CODE_NM)}</div>
		</li>
	#end
    </ul>
</div>


 