<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="bsc.mon.viewSignal">

	<!--
	==================================================================
	  # 설명	: typeAlias 선언
	  #	기능	: SETTING
	  #	TABLE	:
	==================================================================
	-->
	<typeAlias alias="hashMap" 			type="java.util.HashMap" />


	<!--
	==================================================================
	  # 설명	: 신호등현황 목록 보기
	  #	기능	: SELECT
	  #	TABLE	:
	==================================================================
	-->
	<select id="getList" parameterClass="hashMap" resultClass="hashMap">
	<![CDATA[
		SELECT A.CODE_ID
			, CASE WHEN B.FROM_VALUE <= '0' THEN '0'
	       		ELSE TO_CHAR(B.FROM_VALUE)
	          END FROM_VALUE
			, CASE WHEN B.TO_VALUE >= '100' THEN '100'
	       		ELSE TO_CHAR(B.TO_VALUE)
	       	  END TO_VALUE
			, A.CODE_NM
			, B.COLOR
		FROM BSC_CODE A
		  	 LEFT OUTER JOIN BSC_COMMON_STATUS B
		   	 ON A.CODE_ID	= B.STATUS_ID
		 		 AND B.YEAR		= A.YEAR
		 WHERE A.CODE_GRP_ID 		= '021'
		   AND A.DELETE_DT IS NULL
		   AND A.YEAR = (SELECT CASE YEAR_YN WHEN 'Y' THEN #findYear# ELSE '9999' END FROM BSC_CODE_GRP WHERE CODE_GRP_ID = '021')
		 ORDER BY A.SORT_ORDER, A.CODE_ID
		 ]]>
	</select>

	<!--
	==================================================================
	  # 설명	: 신호등현황 상세 보기
	  #	기능	: SELECT
	  #	TABLE	:
	==================================================================
	-->
	<select id="getDetail" parameterClass="hashMap" resultClass="hashMap">

	</select>

	<!--
	==================================================================
	  # 설명	: 신호등현황 등록
	  #	기능	: INSERT
	  #	TABLE	:
	==================================================================
	-->
	<insert id="insertData" parameterClass="hashMap">

	</insert>

	<!--
	==================================================================
	  # 설명	: 신호등현황 수정
	  #	기능	: UPDATE
	  #	TABLE	:
	==================================================================
	-->
	<update id="updateData" parameterClass="hashMap">

	</update>


	<!--
	==================================================================
	  # 설명	: 신호등현황 삭제
	  #	기능	: UPDATE
	  #	TABLE	:
	==================================================================
	-->
	<update id="deleteData" parameterClass="hashMap">

	</update>


</sqlMap>


