<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="bsc.mon.systemWordDic">

	<!--
	==================================================================   
	  # 설명	: typeAlias 선언
	  #	기능	: SETTING
	  #	TABLE	: 
	==================================================================
	-->
	<typeAlias alias="hashMap" 			type="java.util.HashMap" />
	 

	<!--
	==================================================================   
	  # 설명	: 용어사전 목록 보기
	  #	기능	: SELECT
	  #	TABLE	: 
	==================================================================
	-->
	<select id="getList" parameterClass="hashMap" resultClass="hashMap">
		SELECT SEQ, WORD
			  ,EXPLAIN    
			  ,SORT_ORDER           
		  FROM BSC_WORD_DIC                      
		 WHERE WORD||EXPLAIN LIKE '%' || #findSchWord# || '%'         
		 ORDER BY SORT_ORDER, WORD
	</select>
	
	<!--
	==================================================================   
	  # 설명	: 용어사전 상세 보기
	  #	기능	: SELECT
	  #	TABLE	: 
	==================================================================
	-->
	<select id="getDetail" parameterClass="hashMap" resultClass="hashMap">
	    SELECT
			   SEQ,
			   WORD,
			   EXPLAIN,
			   SORT_ORDER                    
		  FROM
		       BSC_WORD_DIC                         
		 WHERE 1=1
		   AND SEQ = #seq#      
	</select>
	
	<!--
	==================================================================   
	  # 설명	: 용어사전 등록
	  #	기능	: INSERT
	  #	TABLE	: 
	==================================================================
	-->	
	<insert id="insertData" parameterClass="hashMap">
		<selectKey resultClass="java.lang.String" keyProperty="NEWSEQ" >
			SELECT F_PGM_SERI('BSC_WORD_DIC', #year#, #initiativeId#, #metricId#,'','') SEQ FROM DUAL
		</selectKey> 
		INSERT INTO BSC_WORD_DIC(SEQ, WORD, EXPLAIN, SORT_ORDER, CREATE_DT) 
					 VALUES (#NEWSEQ#
					 		, #word#, #explain#, #sort_order#, SYSDATE) 
	</insert>	
	
	<!--
	==================================================================   
	  # 설명	: 용어사전 수정
	  #	기능	: UPDATE
	  #	TABLE	: 
	==================================================================
	-->	
	<update id="updateData" parameterClass="hashMap">
		UPDATE BSC_WORD_DIC
		   SET WORD = #word#,
			   EXPLAIN = #explain#,
			   SORT_ORDER = #sort_order#
		 WHERE 1=1
		   AND SEQ = #seq#
	</update>	
	

	<!--
	==================================================================   
	  # 설명	: 용어사전 삭제
	  #	기능	: DELETE
	  #	TABLE	: 
	==================================================================
	-->	
	<update id="deleteData" parameterClass="hashMap">
		DELETE BSC_WORD_DIC
		 WHERE 1=1
		   AND SEQ = #seq#
	</update>
	
	
</sqlMap>


